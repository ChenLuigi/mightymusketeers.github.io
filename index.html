<!doctype html>
<head>
  <meta charset="utf-8">

  <title>My Parse App</title>
  <meta name="description" content="My Parse App">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/styles.css">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.3.2.min.js"></script>
</head>

<body>
  
  <div id="main" class="loginScreen">
    <h1>Login to Mighty Ole</h1>
    <table>
    <tr colspan="2">
    </tr>
     <td>Username</td>
     <td><input id="username" /></td>
    <tr>
     <td>Password</td>
     <td><input type="password" id="passwd" /></td>
    </tr>
    <tr>
    <td><button id="logInButton">Login</button></td>
    <td><button onclick="signUpView();">Sign Up</button></td>
    </tr>
    </table>
  </div>
   <div id="signUp" class="loginScreen" style="display:none">
    <h1>Sign Up for Mighty Ole</h1>
    <table>
    <tr colspan="2">
    </tr>
     <td>Username</td>
     <td><input id="usernameSignUp" /></td>
    <tr>
     <td>Password</td>
     <td><input type="password" id="passwordSignUp" /></td>
    </tr>
    <tr>
     <td>Email</td>
     <td><input type="text" id="emailId" /></td>
    </tr>
    <tr>
    <td><button id="signUpButton">Sign Up</button></td>
    <td><button onclick="loginView();">Login Here</button></td>
    </tr>
    </table>
  </div>

  <script type="text/javascript">
    Parse.initialize("PXtItYU56vgW8jbKgDhZQac0WMWvlE5uzhS6DtBB", "pI5dlkQ7teOaWlFyvc7i3RbW60ST0NkalJYPLtWr");
    function createUser(username,password,email)
    {
    var user = new Parse.User();
    user.set("username", username);
    user.set("password", password);
    user.set("email", email);
    user.signUp(null, {
      success: function(user) {
        // Hooray! Let them use the app now.
      },
      error: function(user, error) {
        // Show the error message somewhere and let the user try again.
        alert("Error: " + error.code + " " + error.message);
      }
    });
    }
      
    jQuery("#logInButton").click(function()
      {
          var username = $("#username").val();
          var password = $("#passwd").val();
          //alert(username);
          Parse.User.logIn(username, password, {
          success: function(user) {
            // Do stuff after successful login.
              alert("You Were Succesfully Logged In");
          },
          error: function(user, error) {
            // The login failed. Check error to see why.
            alert("Sorry Invalid Credentials, Try Again");
          }
});
      });
      
    function signUpView()
      {
          var login = document.getElementById("main");
          login.style.display = "none";
          var signUp = document.getElementById("signUp");
          signUp.style.display = "";
      }
    function loginView()
      {
          var login = document.getElementById("main");
          login.style.display = "";
          var signUp = document.getElementById("signUp");
          signUp.style.display = "none";
      }
      
    jQuery( document ).ready(function() {
    jQuery("#loginButton").click(function()
       {
        if(jQuery("#username").val().length >0 && jQuery("#passwd").val().length > 0)
        {
            //Call Parse Login Function
        }
        
       }); 

      jQuery("#signUpButton").click(function()
       {
          var username = $("#usernameSignUp").val();
          var password = $("#passwordSignUp").val();
          var emailId = $("#emailId").val();
        if(username.length > 0 && password.length > 0 && emailId.length > 0)
        {
            //Call Parse Sign Up Function
            createUser(username,password,emailId);
        }  
       }); 
});
    /*var TestObject = Parse.Object.extend("TestObject");
    var testObject = new TestObject();
    testObject.save({foo: "bar"}).then(function(object) {
    alert("yay! it worked");
    });*/
      
  </script>
</body>

</html>
